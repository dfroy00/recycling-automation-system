# å›æ”¶æ¥­å‹™è‡ªå‹•åŒ–ç³»çµ± â€” MVP å…¨é¢é‡å¯«è¨­è¨ˆ

> æ—¥æœŸï¼š2026-02-10
> ç‹€æ…‹ï¼šè¨­è¨ˆå®Œæˆï¼Œå¾…å¯¦ä½œ
> ç­–ç•¥ï¼šå…¨éƒ¨é‡å¯«ï¼Œä¿ç•™æŠ€è¡“é¸å‹ï¼ˆReact + Express + Prisma + PostgreSQLï¼‰

---

## 1. å•é¡Œæè¿° / æ¦‚è¿°

ç¾æœ‰ç³»çµ±çš„æ¥­å‹™æ¨¡å‹èˆ‡å¯¦éš›ç‡Ÿé‹æœ‰è½å·®ï¼ˆä¾‹å¦‚ A/B/C/D è¨ˆè²»åˆ†é¡ç„¡æ³•åæ˜ å“é …å±¤ç´šçš„è¨ˆè²»æ–¹å‘å·®ç•°ï¼‰ï¼Œéœ€è¦åŸºæ–¼æ­£ç¢ºçš„æ¥­å‹™ç†è§£å…¨é¢é‡å¯«ã€‚

### MVP åŸå‰‡

- æ‰€æœ‰è³‡æ–™ä¾†æºç‚ºæ‰‹å‹•è¼¸å…¥ + Excel åŒ¯å…¥ï¼ˆä¸æ¥è»Šæ©Ÿ/ERP ç­‰å¤–éƒ¨ç³»çµ±ï¼‰
- é€šçŸ¥å¯„é€ï¼šEmail å…ˆåšï¼ŒLINE é ç•™æ¥å£å¾Œè£œ
- æ¬Šé™åˆ†é›¢ï¼šä¸åšï¼Œæ‰€æœ‰ä½¿ç”¨è€…åŒç­‰æ¬Šé™
- å¯©æ ¸æµç¨‹ï¼šäººå·¥å¯©æ ¸ï¼Œç©©å®šå¾Œå†æ”¹è‡ªå‹•
- å ±åƒ¹ç°½ç´„æµç¨‹ï¼šä¸åšï¼ˆç³»çµ±å¤–è™•ç†ï¼‰ï¼Œåªç®¡ç†å·²ç°½ç´„çš„åˆç´„
- è»Šè¶Ÿæ’ç¨‹é æ’ï¼šä¸åš
- å‡æ—¥è³‡æ–™ï¼šç³»çµ±å…§æ‰‹å‹•ç¶­è­·
- æ¶æ§‹é ç•™æ“´å……æ€§ï¼Œæ–¹ä¾¿å¾ŒçºŒæ¥å…¥å¤–éƒ¨ç³»çµ±

---

## 2. æ¥­å‹™æ¨¡å‹

### æ ¸å¿ƒæ¥­å‹™

å…¬å¸ç¶“ç‡Ÿ 7 å€‹ç«™å€ï¼ˆæœªä¾†å¯èƒ½å¢æ¸›ï¼‰ï¼Œå‘é…åˆå®¢æˆ¶æ”¶å–å›æ”¶ç‰©ã€‚

### å®¢æˆ¶åˆ†é¡

| é¡å‹ | èªªæ˜ | è¨ˆåƒ¹æ–¹å¼ |
|------|------|---------|
| **ç°½ç´„å®¢æˆ¶** | æ­£å¼ç°½ç´„ï¼Œæœ‰åˆç´„å“é …å®šåƒ¹ | ä¾åˆç´„å“é …å–®åƒ¹å’Œæ–¹å‘ |
| **è‡¨æ™‚å®¢æˆ¶** | è‡¨æ™‚å«è»Šæ”¶é‹ï¼Œäº‹å…ˆå ±åƒ¹å¾Œæ´¾è»Š | æ¯æ¬¡å–®ç¨å ±åƒ¹ï¼Œæ‰‹å‹•è¼¸å…¥ |

å…©è€…éƒ½è¦åœ¨ç³»çµ±ä¸­ç®¡ç†ã€‚

### å ±åƒ¹ç°½ç´„æµç¨‹ï¼ˆç³»çµ±å¤–è™•ç†ï¼‰

```
å®¢æˆ¶è©¢åƒ¹ â†’ ç«™å€ä¸»ä»»æ“¬å ±åƒ¹ â†’ ç¸½éƒ¨å¯©æ ¸é€šé â†’ å¯„é€å ±åƒ¹å–® â†’ ç°½ç´„
```

> MVP ä¸åšæ­¤æµç¨‹ï¼Œç³»çµ±åƒ…ç®¡ç†å·²ç°½ç´„çš„åˆç´„è³‡æ–™ã€‚

### è¨ˆè²»ç‰¹æ€§ï¼ˆé«˜åº¦å®¢è£½åŒ–ï¼‰

- **å“é …å±¤ç´š**ï¼šæ¯å€‹å“é …å„è‡ªè¨­å®šå–®åƒ¹å’Œè²»ç”¨æ–¹å‘
- **è²»ç”¨æ–¹å‘**ï¼šæ‡‰æ”¶ï¼ˆå®¢æˆ¶ä»˜æˆ‘æ–¹ï¼‰/ æ‡‰ä»˜ï¼ˆæˆ‘æ–¹ä»˜å®¢æˆ¶ï¼‰/ ä¸æ”¶è²»
- **åŒä¸€å®¢æˆ¶ä¸åŒå“é …å¯æœ‰ä¸åŒæ–¹å‘**ï¼ˆä¾‹å¦‚å»¢ç´™æ‡‰ä»˜ã€å»¢æ£„ç‰©è™•ç†æ‡‰æ”¶ï¼‰
- **è»Šè¶Ÿè²»**ï¼šæˆ‘æ–¹å‘å®¢æˆ¶æ”¶å–ï¼ŒæŒ‰æ¬¡æˆ–æŒ‰æœˆè¨ˆç®—
- **çµç®—æ–¹å¼**ï¼šæœˆçµ / æŒ‰è¶Ÿå¤šæ¬¡ä»˜æ¬¾ï¼ˆä¾å®¢æˆ¶éœ€æ±‚ï¼‰
- **ç™¼ç¥¨å¯„é€**ï¼šEmailï¼ˆMVPï¼‰ï¼ŒLINEï¼ˆå¾Œè£œï¼‰

---

## 3. éœ€æ±‚æ¸…å–®

### åŸºç¤è³‡æ–™ç®¡ç†
1. ç«™å€ CRUD
2. å…¬å¸çµ±ä¸€å“é …æ¸…å–® CRUD
3. å®¢æˆ¶ CRUDï¼ˆå«è»Šè¶Ÿè²»è¨­å®šã€çµç®—æ–¹å¼ã€é€šçŸ¥åå¥½ã€åŒ¯æ¬¾å¸³æˆ¶ï¼‰
4. åˆç´„ CRUDï¼ˆå«æœŸé™ç®¡ç†ï¼‰
5. åˆç´„å“é … CRUDï¼ˆå“é … + å–®åƒ¹ + è²»ç”¨æ–¹å‘ï¼‰

### æ—¥å¸¸ç‡Ÿé‹
6. è»Šè¶Ÿç´€éŒ„å»ºç«‹ï¼ˆæ‰‹å‹•ï¼‰
7. è»Šè¶Ÿå“é …æ˜ç´°ï¼ˆç°½ç´„å®¢æˆ¶è‡ªå‹•å¸¶å…¥åˆç´„åƒ¹å¿«ç…§ï¼Œè‡¨æ™‚å®¢æˆ¶æ‰‹å‹•è¼¸å…¥ï¼‰
8. Excel æ‰¹æ¬¡åŒ¯å…¥è»Šè¶Ÿ + å“é …
9. è»Šè¶Ÿ/å“é …è³‡æ–™ä¿®æ­£

### æœˆçµèˆ‡ç™¼ç¥¨
10. æ¯æœˆ 5 è™Ÿè‡ªå‹•ç”¢å‡ºå…¨éƒ¨æœˆçµå®¢æˆ¶æ˜ç´°ï¼ˆè‰ç¨¿ç‹€æ…‹ï¼‰
11. äººå·¥å¯©æ ¸æµç¨‹ï¼ˆå¯©æ ¸é€šé / é€€å›ä¿®æ­£ï¼‰
12. æ¯æœˆ 15 è™Ÿè‡ªå‹•å¯„é€å·²å¯©æ ¸æ˜ç´°ï¼ˆEmailï¼‰
13. æŒ‰è¶Ÿçµç®—å®¢æˆ¶ï¼šæ¯è¶Ÿå®Œæˆæ™‚ç¨ç«‹ç”¢å‡ºæ˜ç´°
14. é‡å‡æ—¥ï¼ˆé€±å…­æ—¥ + åœ‹å®šå‡æ—¥ï¼‰æå‰è‡³å‰ä¸€å€‹å·¥ä½œæ—¥

### å ±è¡¨
15. å®¢æˆ¶æœˆçµæ˜ç´° PDF
16. ç«™å€å½™ç¸½å ±è¡¨ Excel

### ç³»çµ±ç®¡ç†
17. ä½¿ç”¨è€…ç®¡ç†ï¼ˆä¸åˆ†æ¬Šé™ï¼‰
18. åœ‹å®šå‡æ—¥ç®¡ç†
19. æ’ç¨‹ç‹€æ…‹æŸ¥è©¢ + æ‰‹å‹•è§¸ç™¼
20. åˆç´„åˆ°æœŸæé†’ï¼ˆ30/15/7 å¤©ï¼‰
21. é€šçŸ¥é‡è©¦ï¼ˆå¯„é€å¤±æ•—è‡ªå‹•é‡è©¦ï¼‰

---

## 4. è³‡æ–™æ¨¡å‹

### ER é—œä¿‚åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   sites     â”‚     â”‚  customers   â”‚     â”‚   contracts    â”‚
â”‚ ç«™å€ä¸»æª”     â”‚â†â”€â”€â”€â”‚  å®¢æˆ¶ä¸»æª”     â”‚â†â”€â”€â”€â”‚   åˆç´„         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   items     â”‚                          â”‚ contract_items   â”‚
â”‚ å“é …ä¸»æª”     â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ åˆç´„å“é …(æ ¸å¿ƒ!)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ è¢«å¼•ç”¨æ–¼
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    trips     â”‚â†â”€â”€â”€â”‚  trip_items    â”‚
â”‚ è»Šè¶Ÿç´€éŒ„      â”‚     â”‚ è¶Ÿæ¬¡å“é …æ˜ç´°   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ monthly_statements â”‚
â”‚ æœˆçµæ˜ç´°            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   users      â”‚  â”‚  holidays    â”‚  â”‚  system_logs â”‚
â”‚  ä½¿ç”¨è€…       â”‚  â”‚  å‡æ—¥ä¸»æª”     â”‚  â”‚  ç³»çµ±æ—¥èªŒ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è³‡æ–™è¡¨å®šç¾©

#### sitesï¼ˆç«™å€ä¸»æª”ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| name | String | ç«™å€åç¨± |
| address | String? | åœ°å€ |
| phone | String? | è¯çµ¡é›»è©± |
| status | Enum | active / inactive |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |
| updated_at | DateTime | æ›´æ–°æ™‚é–“ |

#### itemsï¼ˆå“é …ä¸»æª”ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| name | String (unique) | å“é …åç¨±ï¼ˆå…¨å…¬å¸çµ±ä¸€ï¼‰ |
| category | String? | åˆ†é¡ |
| unit | String | å–®ä½ï¼ˆé è¨­ kgï¼‰ |
| status | Enum | active / inactive |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |
| updated_at | DateTime | æ›´æ–°æ™‚é–“ |

#### customersï¼ˆå®¢æˆ¶ä¸»æª”ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| site_id | Int (FK) | æ‰€å±¬ç«™å€ |
| name | String | å®¢æˆ¶åç¨± |
| contact_person | String? | è¯çµ¡äºº |
| phone | String? | é›»è©± |
| address | String? | åœ°å€ |
| type | Enum | contractedï¼ˆç°½ç´„ï¼‰/ temporaryï¼ˆè‡¨æ™‚ï¼‰ |
| trip_fee_enabled | Boolean | æ˜¯å¦æ”¶è»Šè¶Ÿè²» |
| trip_fee_type | Enum? | per_tripï¼ˆæŒ‰æ¬¡ï¼‰/ per_monthï¼ˆæŒ‰æœˆï¼‰ |
| trip_fee_amount | Decimal? | è»Šè¶Ÿè²»é‡‘é¡ |
| settlement_type | Enum | monthlyï¼ˆæœˆçµï¼‰/ per_tripï¼ˆæŒ‰è¶Ÿçµç®—ï¼‰ |
| notification_method | Enum | email / line / both |
| notification_email | String? | é€šçŸ¥ Email |
| notification_line_id | String? | LINE IDï¼ˆå¾Œè£œï¼‰ |
| payment_account | String? | åŒ¯æ¬¾å¸³æˆ¶è³‡è¨Š |
| status | Enum | active / inactive |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |
| updated_at | DateTime | æ›´æ–°æ™‚é–“ |

#### contractsï¼ˆåˆç´„ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| customer_id | Int (FK) | æ‰€å±¬å®¢æˆ¶ |
| contract_number | String (unique) | åˆç´„ç·¨è™Ÿ |
| start_date | Date | åˆç´„èµ·å§‹æ—¥ |
| end_date | Date | åˆç´„åˆ°æœŸæ—¥ |
| status | Enum | draft / active / expired / terminated |
| notes | String? | å‚™è¨» |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |
| updated_at | DateTime | æ›´æ–°æ™‚é–“ |

#### contract_itemsï¼ˆåˆç´„å“é … â€” è¨ˆè²»æ ¸å¿ƒï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| contract_id | Int (FK) | æ‰€å±¬åˆç´„ |
| item_id | Int (FK) | å“é …ï¼ˆå¼•ç”¨å“é …ä¸»æª”ï¼‰ |
| unit_price | Decimal | åˆç´„å–®åƒ¹ |
| billing_direction | Enum | **receivable**ï¼ˆå®¢æˆ¶ä»˜æˆ‘æ–¹ï¼‰/ **payable**ï¼ˆæˆ‘æ–¹ä»˜å®¢æˆ¶ï¼‰/ **free**ï¼ˆä¸æ”¶è²»ï¼‰ |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |
| updated_at | DateTime | æ›´æ–°æ™‚é–“ |

#### tripsï¼ˆè»Šè¶Ÿç´€éŒ„ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| customer_id | Int (FK) | å®¢æˆ¶ |
| site_id | Int (FK) | ç«™å€ |
| trip_date | Date | æ”¶é‹æ—¥æœŸ |
| driver | String? | å¸æ©Ÿ |
| vehicle_plate | String? | è»Šç‰Œ |
| notes | String? | å‚™è¨» |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |
| updated_at | DateTime | æ›´æ–°æ™‚é–“ |

#### trip_itemsï¼ˆè¶Ÿæ¬¡å“é …æ˜ç´°ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| trip_id | Int (FK) | æ‰€å±¬è»Šè¶Ÿ |
| item_id | Int (FK) | å“é …ï¼ˆå¼•ç”¨å“é …ä¸»æª”ï¼‰ |
| weight_kg | Decimal | é‡é‡ |
| unit_price | Decimal | **å¿«ç…§**ï¼šæ”¶é‹ç•¶æ™‚çš„å–®åƒ¹ |
| billing_direction | Enum | **å¿«ç…§**ï¼šæ”¶é‹ç•¶æ™‚çš„æ–¹å‘ |
| amount | Decimal | è¨ˆç®—é‡‘é¡ï¼ˆunit_price Ã— weight_kgï¼‰ |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |

> å¿«ç…§è¨­è¨ˆï¼šåˆç´„å¯èƒ½è®Šå‹•ï¼Œä½†å·²æ”¶é‹çš„ç´€éŒ„é–å®šç•¶æ™‚åƒ¹æ ¼å’Œæ–¹å‘ã€‚
> ç°½ç´„å®¢æˆ¶ â†’ è‡ªå‹•å¸¶å…¥åˆç´„åƒ¹ï¼›è‡¨æ™‚å®¢æˆ¶ â†’ æ‰‹å‹•è¼¸å…¥å ±åƒ¹ã€‚

#### monthly_statementsï¼ˆæœˆçµæ˜ç´°ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| customer_id | Int (FK) | å®¢æˆ¶ |
| year_month | String | çµç®—æœˆä»½ï¼ˆå¦‚ 2026-01ï¼‰ |
| total_receivable | Decimal | æ‡‰æ”¶åˆè¨ˆï¼ˆå«è»Šè¶Ÿè²»ï¼‰ |
| total_payable | Decimal | æ‡‰ä»˜åˆè¨ˆ |
| net_amount | Decimal | æ·¨é¡ï¼ˆæ­£=æ‡‰æ”¶ï¼Œè² =æ‡‰ä»˜ï¼‰ |
| trip_fee_total | Decimal | è»Šè¶Ÿè²»åˆè¨ˆ |
| detail_json | JSON | å®Œæ•´æ˜ç´°ï¼ˆå“é …ã€è»Šè¶Ÿè²»ç­‰ï¼‰ |
| status | Enum | draft / approved / rejected / invoiced / sent |
| reviewed_by | Int? (FK) | å¯©æ ¸äºº |
| reviewed_at | DateTime? | å¯©æ ¸æ™‚é–“ |
| sent_at | DateTime? | å¯„é€æ™‚é–“ |
| sent_method | Enum? | email / line |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |
| updated_at | DateTime | æ›´æ–°æ™‚é–“ |

#### holidaysï¼ˆå‡æ—¥ä¸»æª”ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| date | Date (unique) | å‡æ—¥æ—¥æœŸ |
| name | String | å‡æ—¥åç¨±ï¼ˆå¦‚ã€Œæ˜¥ç¯€ã€ï¼‰ |
| year | Int | å¹´ä»½ï¼ˆæ–¹ä¾¿æŸ¥è©¢ï¼‰ |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |

#### usersï¼ˆä½¿ç”¨è€…ï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| username | String (unique) | å¸³è™Ÿ |
| password_hash | String | å¯†ç¢¼é›œæ¹Š |
| name | String | å§“å |
| email | String? | Email |
| role | String | è§’è‰²ï¼ˆMVP çµ±ä¸€ç‚º adminï¼‰ |
| status | Enum | active / inactive |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |
| updated_at | DateTime | æ›´æ–°æ™‚é–“ |

#### system_logsï¼ˆç³»çµ±æ—¥èªŒï¼‰

| æ¬„ä½ | å‹åˆ¥ | èªªæ˜ |
|------|------|------|
| id | Int (PK) | è‡ªå‹•éå¢ |
| event_type | String | äº‹ä»¶é¡å‹ |
| event_content | String | äº‹ä»¶å…§å®¹ |
| user_id | Int? (FK) | æ“ä½œä½¿ç”¨è€… |
| created_at | DateTime | å»ºç«‹æ™‚é–“ |

---

## 5. è¨ˆè²»é‚è¼¯

### è¨ˆç®—å–®ä¸€å®¢æˆ¶æœˆçµé‡‘é¡

```
è¨ˆç®—æœˆçµï¼ˆcustomer_id, year_monthï¼‰
â”‚
â”œâ”€ 1. æŸ¥è©¢è©²å®¢æˆ¶ç•¶æœˆæ‰€æœ‰ trip_itemsï¼ˆå·²å¿«ç…§å–®åƒ¹å’Œæ–¹å‘ï¼‰
â”‚
â”œâ”€ 2. ä¾æ–¹å‘åˆ†çµ„è¨ˆç®—
â”‚     â”œâ”€ æ‡‰æ”¶å°è¨ˆ = Î£(receivable å“é …çš„ amount)
â”‚     â”œâ”€ æ‡‰ä»˜å°è¨ˆ = Î£(payable å“é …çš„ amount)
â”‚     â””â”€ free å“é …ä¸è¨ˆé‡‘é¡
â”‚
â”œâ”€ 3. è»Šè¶Ÿè²»è¨ˆç®—
â”‚     â”œâ”€ ä¸æ”¶ â†’ 0
â”‚     â”œâ”€ æŒ‰æ¬¡ â†’ ç•¶æœˆè¶Ÿæ•¸ Ã— å–®æ¬¡é‡‘é¡
â”‚     â””â”€ æŒ‰æœˆ â†’ å›ºå®šæœˆè²»
â”‚     ï¼ˆè»Šè¶Ÿè²»å›ºå®šç‚ºæ‡‰æ”¶ï¼‰
â”‚
â”œâ”€ 4. å½™ç¸½
â”‚     â”œâ”€ æ‡‰æ”¶åˆè¨ˆ = æ‡‰æ”¶å°è¨ˆ + è»Šè¶Ÿè²»
â”‚     â”œâ”€ æ‡‰ä»˜åˆè¨ˆ = æ‡‰ä»˜å°è¨ˆ
â”‚     â””â”€ æ·¨é¡ = æ‡‰æ”¶åˆè¨ˆ - æ‡‰ä»˜åˆè¨ˆ
â”‚         æ­£æ•¸ â†’ å®¢æˆ¶ä»˜æˆ‘æ–¹
â”‚         è² æ•¸ â†’ æˆ‘æ–¹ä»˜å®¢æˆ¶
â”‚
â””â”€ 5. ç”¢å‡ºæœˆçµæ˜ç´°ï¼ˆdraft ç‹€æ…‹ï¼‰
```

### æŒ‰è¶Ÿçµç®—å®¢æˆ¶ï¼ˆç‰¹æ®Šæµç¨‹ï¼‰

```
æ¯è¶Ÿå®Œæˆæ™‚ï¼š
â”œâ”€ è¨ˆç®—è©²è¶Ÿ trip_items é‡‘é¡
â”œâ”€ åŠ ä¸Šè»Šè¶Ÿè²»ï¼ˆå¦‚æŒ‰æ¬¡æ”¶å–ï¼‰
â”œâ”€ ç›´æ¥ç”¢å‡ºå–®è¶Ÿæ˜ç´°ï¼ˆdraft ç‹€æ…‹ï¼‰
â””â”€ ç¨ç«‹å¯©æ ¸å’Œå¯„é€ï¼Œä¸èµ°æœˆçµæµç¨‹
```

### è¨ˆåƒ¹é‚è¼¯å·®ç•°

| | ç°½ç´„å®¢æˆ¶ | è‡¨æ™‚å®¢æˆ¶ |
|--|---------|---------|
| å“é …ä¾†æº | åˆç´„å“é …æ¸…å–® | å“é …ä¸»æª”ï¼ˆé¸æ“‡ï¼‰ |
| å–®åƒ¹ä¾†æº | åˆç´„ç´„å®šåƒ¹ï¼ˆè‡ªå‹•å¸¶å…¥ï¼‰ | ç•¶æ¬¡å ±åƒ¹ï¼ˆæ‰‹å‹•è¼¸å…¥ï¼‰ |
| è²»ç”¨æ–¹å‘ | åˆç´„ç´„å®šï¼ˆè‡ªå‹•å¸¶å…¥ï¼‰ | ç•¶æ¬¡ç´„å®šï¼ˆæ‰‹å‹•é¸æ“‡ï¼‰ |
| è¨˜éŒ„æ–¹å¼ | trip_items å¿«ç…§åˆç´„åƒ¹ | trip_items ç›´æ¥è¨˜éŒ„å ±åƒ¹ |

---

## 6. è‡ªå‹•åŒ–æ’ç¨‹

### æ’ç¨‹ä»»å‹™

| æ’ç¨‹ | æ™‚é–“ | åŠŸèƒ½ |
|------|------|------|
| **æœˆçµæ˜ç´°ç”¢å‡º** | æ¯æœˆ 5 è™Ÿ 09:00ï¼ˆé‡å‡æ—¥æå‰ï¼‰ | è‡ªå‹•è¨ˆç®—æ‰€æœ‰æœˆçµå®¢æˆ¶ä¸Šæœˆæ˜ç´°ï¼Œç”¢å‡ºè‰ç¨¿ |
| **é–‹ç¥¨å¯„é€** | æ¯æœˆ 15 è™Ÿ 09:00ï¼ˆé‡å‡æ—¥æå‰ï¼‰ | è‡ªå‹•å¯„é€æ‰€æœ‰ã€Œå·²å¯©æ ¸ã€çš„æ˜ç´°ï¼ˆEmailï¼‰ |
| **åˆç´„åˆ°æœŸæƒæ** | æ¯æ—¥ 10:00 | 30/15/7 å¤©åˆ°æœŸæé†’ |
| **é€šçŸ¥é‡è©¦** | æ¯æ—¥ 09:00 | è‡ªå‹•é‡è©¦å¯„é€å¤±æ•—çš„é€šçŸ¥ |

### ä¾‹å‡æ—¥èª¿æ•´é‚è¼¯

```
getWorkday(targetDate):
  while targetDate æ˜¯é€±å…­æ—¥æˆ–åœ‹å®šå‡æ—¥:
    targetDate = targetDate - 1 å¤©
  return targetDate
```

- å‡æ—¥åŒ…å«ï¼šé€±å…­æ—¥ + å°ç£åœ‹å®šå‡æ—¥
- åœ‹å®šå‡æ—¥é€éç³»çµ±è¨­å®šé é¢æ‰‹å‹•ç¶­è­·
- é ç•™ API æ¥å£ï¼Œæœªä¾†å¯æ¥æ”¿åºœé–‹æ”¾è³‡æ–™è‡ªå‹•æ›´æ–°

### æœˆçµæ˜ç´°ç‹€æ…‹æµè½‰

```
draftï¼ˆè‰ç¨¿ï¼‰â†’ approvedï¼ˆå·²å¯©æ ¸ï¼‰â†’ invoicedï¼ˆå·²é–‹ç¥¨ï¼‰â†’ sentï¼ˆå·²å¯„é€ï¼‰
                   â†“
              rejectedï¼ˆé€€å›ï¼‰â†’ ä¿®æ­£å¾Œé‡æ–°æäº¤ â†’ approved
```

### è‡ªå‹•åŒ–æ™‚é–“ç·š

```
æ¯æœˆ 1-4 è™Ÿ              5 è™Ÿ                 5-14 è™Ÿ            15 è™Ÿ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è³‡æ–™è£œé½ŠæœŸ â”‚ â”€â”€â†’ â”‚ ç³»çµ±è‡ªå‹•ç”¢å‡º  â”‚ â”€â”€â†’â”‚  äººå·¥å¯©æ ¸æœŸ    â”‚â”€â”€â†’â”‚ è‡ªå‹•å¯„é€     â”‚
â”‚ è£œç™»/ä¿®æ­£  â”‚      â”‚ å…¨éƒ¨å®¢æˆ¶æ˜ç´°  â”‚    â”‚  ç¢ºèª/ä¿®æ­£     â”‚   â”‚ Email       â”‚
â”‚ ä¸Šæœˆè»Šè¶Ÿ   â”‚      â”‚ (è‰ç¨¿ç‹€æ…‹)   â”‚    â”‚  é€ç­†æ ¸å‡†     â”‚   â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. UI ä½ˆå±€

### æ•´é«”ä½ˆå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LOGO   å›æ”¶æ¥­å‹™è‡ªå‹•åŒ–ç³»çµ±          [é€šçŸ¥ğŸ””] [ä½¿ç”¨è€…â–¼] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚                                        â”‚
â”‚  ğŸ“Š å„€è¡¨æ¿  â”‚         ä¸»è¦å…§å®¹å€                      â”‚
â”‚            â”‚                                        â”‚
â”‚  åŸºç¤è³‡æ–™ â–¼ â”‚                                        â”‚
â”‚  â€¢ ç«™å€ç®¡ç† â”‚                                        â”‚
â”‚  â€¢ å“é …ç®¡ç† â”‚                                        â”‚
â”‚  â€¢ å®¢æˆ¶ç®¡ç† â”‚                                        â”‚
â”‚  â€¢ åˆç´„ç®¡ç† â”‚                                        â”‚
â”‚            â”‚                                        â”‚
â”‚  ç‡Ÿé‹ç®¡ç† â–¼ â”‚                                        â”‚
â”‚  â€¢ è»Šè¶Ÿç®¡ç† â”‚                                        â”‚
â”‚  â€¢ ExcelåŒ¯å…¥â”‚                                        â”‚
â”‚            â”‚                                        â”‚
â”‚  å¸³å‹™ç®¡ç† â–¼ â”‚                                        â”‚
â”‚  â€¢ æœˆçµç®¡ç† â”‚                                        â”‚
â”‚  â€¢ å ±è¡¨     â”‚                                        â”‚
â”‚            â”‚                                        â”‚
â”‚  ç³»çµ± â–¼    â”‚                                        â”‚
â”‚  â€¢ ä½¿ç”¨è€…   â”‚                                        â”‚
â”‚  â€¢ å‡æ—¥è¨­å®š â”‚                                        â”‚
â”‚  â€¢ æ’ç¨‹ç®¡ç† â”‚                                        â”‚
â”‚            â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®¢æˆ¶ç®¡ç†é é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®¢æˆ¶ç®¡ç†                        [+ æ–°å¢å®¢æˆ¶]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æœå°‹å®¢æˆ¶åç¨±...]  ç«™å€[â–¼å…¨éƒ¨]  é¡å‹[â–¼å…¨éƒ¨]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å®¢æˆ¶åç¨±    â”‚ç«™å€â”‚é¡å‹  â”‚è»Šè¶Ÿè²»â”‚çµç®—æ–¹å¼â”‚æ“ä½œ     â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  å¤§æ˜ä¼æ¥­    â”‚åŒ—å€â”‚ç°½ç´„  â”‚æŒ‰æ¬¡  â”‚æœˆçµ   â”‚[ç·¨è¼¯]   â”‚
â”‚  å°è¯å·¥å»     â”‚å—å€â”‚ç°½ç´„  â”‚æŒ‰æœˆ  â”‚æŒ‰è¶Ÿ   â”‚[ç·¨è¼¯]   â”‚
â”‚  è‡¨æ™‚ç‹å…ˆç”Ÿ  â”‚åŒ—å€â”‚è‡¨æ™‚  â”‚æŒ‰æ¬¡  â”‚æŒ‰è¶Ÿ   â”‚[ç·¨è¼¯]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆç´„ç®¡ç†é é¢ï¼ˆå“é …å±¤ç´šè¨ˆè²»ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† å¤§æ˜ä¼æ¥­ - åˆç´„ç®¡ç†              [+ æ–°å¢åˆç´„]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆç´„ç·¨è™Ÿ: C-2026-001                             â”‚
â”‚  æœŸé–“: 2026/01/01 ~ 2026/12/31    ç‹€æ…‹: â—æœ‰æ•ˆ     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆç´„å“é …                          [+ æ–°å¢å“é …]    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ å“é …åç¨±  â”‚ å–®åƒ¹(å…ƒ/kg) â”‚ è²»ç”¨æ–¹å‘  â”‚ æ“ä½œ â”‚    â”‚
â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”‚    â”‚
â”‚  â”‚ å»¢ç´™     â”‚    3.5     â”‚ æ‡‰ä»˜    â”‚[ç·¨è¼¯]â”‚    â”‚
â”‚  â”‚ å»¢éµ     â”‚    8.0     â”‚ æ‡‰ä»˜    â”‚[ç·¨è¼¯]â”‚    â”‚
â”‚  â”‚ å»¢å¡‘è†    â”‚    2.0     â”‚ æ‡‰æ”¶    â”‚[ç·¨è¼¯]â”‚    â”‚
â”‚  â”‚ å»¢æ£„ç‰©è™•ç†â”‚   15.0     â”‚ æ‡‰æ”¶    â”‚[ç·¨è¼¯]â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æœˆçµç®¡ç†é é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœˆçµç®¡ç†  2026å¹´1æœˆ          [â–¼é¸æ“‡æœˆä»½] [é‡æ–°ç”¢å‡º]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¾…å¯©æ ¸(12)  å·²å¯©æ ¸(5)  å·²å¯„é€(30)  é€€å›(2)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å®¢æˆ¶åç¨±  â”‚ç«™å€â”‚æ‡‰æ”¶    â”‚æ‡‰ä»˜    â”‚æ·¨é¡     â”‚ç‹€æ…‹â”‚æ“ä½œâ”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”‚
â”‚  å¤§æ˜ä¼æ¥­  â”‚åŒ—å€â”‚ 1,200 â”‚ 3,500 â”‚-2,300ä»˜â”‚è‰ç¨¿â”‚[å¯©]â”‚
â”‚  å°è¯å·¥å»   â”‚å—å€â”‚ 8,000 â”‚     0 â”‚ 8,000æ”¶â”‚è‰ç¨¿â”‚[å¯©]â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”‚
â”‚                               [å…¨éƒ¨å¯©æ ¸é€šé] [åŒ¯å‡º]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¯©æ ¸è©³æƒ…å±•é–‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤§æ˜ä¼æ¥­ - 2026å¹´1æœˆæ˜ç´°                          â”‚
â”‚                                                  â”‚
â”‚  å“é …æ˜ç´°                                         â”‚
â”‚  æ—¥æœŸ    â”‚å“é …    â”‚é‡é‡(kg)â”‚å–®åƒ¹ â”‚æ–¹å‘â”‚é‡‘é¡        â”‚
â”‚  01/05  â”‚å»¢ç´™    â”‚  200  â”‚3.5 â”‚æ‡‰ä»˜â”‚  -700      â”‚
â”‚  01/05  â”‚å»¢å¡‘è†   â”‚  100  â”‚2.0 â”‚æ‡‰æ”¶â”‚  +200      â”‚
â”‚  01/12  â”‚å»¢ç´™    â”‚  300  â”‚3.5 â”‚æ‡‰ä»˜â”‚ -1,050     â”‚
â”‚  ...                                             â”‚
â”‚                                                  â”‚
â”‚  è»Šè¶Ÿè²»ï¼š5è¶Ÿ Ã— 500å…ƒ = +2,500ï¼ˆæ‡‰æ”¶ï¼‰              â”‚
â”‚                                                  â”‚
â”‚  å½™ç¸½ï¼šæ‡‰æ”¶ 1,200 - æ‡‰ä»˜ 3,500 = æ·¨é¡ -2,300      â”‚
â”‚       â†’ æˆ‘æ–¹éœ€ä»˜å®¢æˆ¶ 2,300 å…ƒ                      â”‚
â”‚                                                  â”‚
â”‚           [é€€å›ä¿®æ­£]  [å¯©æ ¸é€šé]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ä¿®æ”¹æª”æ¡ˆæ¸…å–®

å…¨éƒ¨é‡å¯«ï¼Œä»¥ä¸‹ç‚ºå®Œæ•´æª”æ¡ˆçµæ§‹ï¼š

### å¾Œç«¯

| æª”æ¡ˆè·¯å¾‘ | èªªæ˜ |
|---------|------|
| `backend/prisma/schema.prisma` | é‡å¯«è³‡æ–™æ¨¡å‹ |
| `backend/prisma/seed.ts` | é‡å¯«ç¨®å­è³‡æ–™ |
| `backend/src/index.ts` | å…¥å£é» |
| `backend/src/app.ts` | Express è¨­å®š |
| `backend/src/routes/auth.ts` | èªè­‰ API |
| `backend/src/routes/sites.ts` | ç«™å€ CRUD |
| `backend/src/routes/items.ts` | å“é … CRUD |
| `backend/src/routes/customers.ts` | å®¢æˆ¶ CRUD |
| `backend/src/routes/contracts.ts` | åˆç´„ + åˆç´„å“é … CRUD |
| `backend/src/routes/trips.ts` | è»Šè¶Ÿ + è¶Ÿæ¬¡å“é … CRUD |
| `backend/src/routes/import.ts` | Excel åŒ¯å…¥ |
| `backend/src/routes/statements.ts` | æœˆçµæ˜ç´° + å¯©æ ¸ + å¯„é€ |
| `backend/src/routes/reports.ts` | å ±è¡¨ç”¢å‡º |
| `backend/src/routes/schedule.ts` | æ’ç¨‹ç®¡ç† |
| `backend/src/routes/users.ts` | ä½¿ç”¨è€…ç®¡ç† |
| `backend/src/routes/holidays.ts` | å‡æ—¥ç®¡ç† |
| `backend/src/services/billing.service.ts` | è¨ˆè²»å¼•æ“ |
| `backend/src/services/statement.service.ts` | æœˆçµæ˜ç´°ç”¢å‡º |
| `backend/src/services/pdf-generator.ts` | PDF ç”¢å‡º |
| `backend/src/services/notification.service.ts` | Email å¯„é€ï¼ˆLINE é ç•™æ¥å£ï¼‰ |
| `backend/src/services/scheduler.service.ts` | æ’ç¨‹æœå‹™ |
| `backend/src/services/holiday.service.ts` | å‡æ—¥åˆ¤æ–· |
| `backend/src/middleware/auth.ts` | JWT é©—è­‰ä¸­ä»‹å±¤ |

### å‰ç«¯

| æª”æ¡ˆè·¯å¾‘ | èªªæ˜ |
|---------|------|
| `frontend/src/App.tsx` | è·¯ç”±è¨­å®š |
| `frontend/src/components/AppLayout.tsx` | å´é‚Šæ¬„ + é ‚éƒ¨æ¬„ä½ˆå±€ |
| `frontend/src/pages/LoginPage.tsx` | ç™»å…¥é  |
| `frontend/src/pages/DashboardPage.tsx` | å„€è¡¨æ¿ |
| `frontend/src/pages/SitesPage.tsx` | ç«™å€ç®¡ç† |
| `frontend/src/pages/ItemsPage.tsx` | å“é …ç®¡ç† |
| `frontend/src/pages/CustomersPage.tsx` | å®¢æˆ¶ç®¡ç† |
| `frontend/src/pages/ContractsPage.tsx` | åˆç´„ç®¡ç† + åˆç´„å“é … |
| `frontend/src/pages/TripsPage.tsx` | è»Šè¶Ÿç®¡ç† + å“é …æ˜ç´° |
| `frontend/src/pages/ImportPage.tsx` | Excel åŒ¯å…¥ |
| `frontend/src/pages/StatementsPage.tsx` | æœˆçµç®¡ç† + å¯©æ ¸ |
| `frontend/src/pages/ReportsPage.tsx` | å ±è¡¨ |
| `frontend/src/pages/HolidaysPage.tsx` | å‡æ—¥è¨­å®š |
| `frontend/src/pages/SchedulePage.tsx` | æ’ç¨‹ç®¡ç† |
| `frontend/src/pages/UsersPage.tsx` | ä½¿ç”¨è€…ç®¡ç† |

### API è·¯ç”±ç¸½è¦½

| æ¨¡çµ„ | è·¯ç”± | æ–¹æ³• | èªªæ˜ |
|------|------|------|------|
| èªè­‰ | /api/auth/login | POST | ç™»å…¥ |
| èªè­‰ | /api/auth/me | GET | å–å¾—ç•¶å‰ä½¿ç”¨è€… |
| ç«™å€ | /api/sites | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| ç«™å€ | /api/sites/:id | GET/PATCH/DELETE | è©³æƒ… / æ›´æ–° / åˆªé™¤ |
| å“é … | /api/items | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| å“é … | /api/items/:id | GET/PATCH/DELETE | è©³æƒ… / æ›´æ–° / åˆªé™¤ |
| å®¢æˆ¶ | /api/customers | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| å®¢æˆ¶ | /api/customers/:id | GET/PATCH/DELETE | è©³æƒ… / æ›´æ–° / åˆªé™¤ |
| åˆç´„ | /api/contracts | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| åˆç´„ | /api/contracts/:id | GET/PATCH/DELETE | è©³æƒ… / æ›´æ–° / åˆªé™¤ |
| åˆç´„å“é … | /api/contracts/:id/items | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| åˆç´„å“é … | /api/contracts/:cid/items/:iid | PATCH/DELETE | æ›´æ–° / åˆªé™¤ |
| è»Šè¶Ÿ | /api/trips | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| è»Šè¶Ÿ | /api/trips/:id | GET/PATCH/DELETE | è©³æƒ… / æ›´æ–° / åˆªé™¤ |
| è»Šè¶Ÿå“é … | /api/trips/:id/items | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| è»Šè¶Ÿå“é … | /api/trips/:tid/items/:iid | PATCH/DELETE | æ›´æ–° / åˆªé™¤ |
| åŒ¯å…¥ | /api/import/trips | POST | Excel æ‰¹æ¬¡åŒ¯å…¥ |
| æœˆçµ | /api/statements | GET | æœˆçµæ˜ç´°åˆ—è¡¨ |
| æœˆçµ | /api/statements/generate | POST | æ‰‹å‹•è§¸ç™¼ç”¢å‡º |
| æœˆçµ | /api/statements/:id | GET | æ˜ç´°è©³æƒ… |
| æœˆçµ | /api/statements/:id/review | PATCH | å¯©æ ¸ï¼ˆé€šé/é€€å›ï¼‰ |
| æœˆçµ | /api/statements/:id/send | POST | å¯„é€ |
| å ±è¡¨ | /api/reports/customer/:id | GET | å®¢æˆ¶æ˜ç´° PDF |
| å ±è¡¨ | /api/reports/site/:id | GET | ç«™å€å½™ç¸½ Excel |
| æ’ç¨‹ | /api/schedule | GET | æ’ç¨‹ç‹€æ…‹ |
| æ’ç¨‹ | /api/schedule/:name/trigger | POST | æ‰‹å‹•è§¸ç™¼ |
| å‡æ—¥ | /api/holidays | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| å‡æ—¥ | /api/holidays/:id | DELETE | åˆªé™¤ |
| å‡æ—¥ | /api/holidays/import | POST | æ‰¹æ¬¡åŒ¯å…¥ |
| ä½¿ç”¨è€… | /api/users | GET/POST | åˆ—è¡¨ / æ–°å¢ |
| ä½¿ç”¨è€… | /api/users/:id | GET/PATCH/DELETE | è©³æƒ… / æ›´æ–° / åˆªé™¤ |

---

## 9. é©—æ”¶æ¨™æº–

### åŸºç¤è³‡æ–™
- [ ] ç«™å€ CRUD æ­£å¸¸é‹ä½œ
- [ ] å“é …ä¸»æª” CRUD æ­£å¸¸é‹ä½œï¼ˆåç¨±å”¯ä¸€ï¼‰
- [ ] å®¢æˆ¶å»ºç«‹æ™‚å¯è¨­å®šè»Šè¶Ÿè²»ï¼ˆæ”¶/ä¸æ”¶ã€æŒ‰æ¬¡/æŒ‰æœˆã€é‡‘é¡ï¼‰
- [ ] å®¢æˆ¶å»ºç«‹æ™‚å¯è¨­å®šçµç®—æ–¹å¼ï¼ˆæœˆçµ/æŒ‰è¶Ÿï¼‰
- [ ] å®¢æˆ¶å»ºç«‹æ™‚å¯è¨­å®šé€šçŸ¥æ–¹å¼å’ŒåŒ¯æ¬¾å¸³æˆ¶

### åˆç´„èˆ‡è¨ˆè²»
- [ ] åˆç´„ CRUD æ­£å¸¸é‹ä½œï¼ˆå«æœŸé™ç®¡ç†ï¼‰
- [ ] åˆç´„å“é …å¯å€‹åˆ¥è¨­å®šå–®åƒ¹èˆ‡è²»ç”¨æ–¹å‘ï¼ˆæ‡‰æ”¶/æ‡‰ä»˜/å…è²»ï¼‰
- [ ] åŒä¸€å®¢æˆ¶ä¸åŒå“é …å¯æœ‰ä¸åŒè²»ç”¨æ–¹å‘

### è»Šè¶Ÿèˆ‡å“é …
- [ ] è»Šè¶Ÿç´€éŒ„ CRUD æ­£å¸¸é‹ä½œ
- [ ] ç°½ç´„å®¢æˆ¶å»ºç«‹è»Šè¶Ÿå“é …æ™‚ï¼Œè‡ªå‹•å¸¶å…¥åˆç´„åƒ¹æ ¼å’Œæ–¹å‘å¿«ç…§
- [ ] è‡¨æ™‚å®¢æˆ¶å»ºç«‹è»Šè¶Ÿå“é …æ™‚ï¼Œå¯æ‰‹å‹•è¼¸å…¥å ±åƒ¹å’Œæ–¹å‘
- [ ] Excel æ‰¹æ¬¡åŒ¯å…¥è»Šè¶Ÿ + å“é …æ­£å¸¸é‹ä½œ

### æœˆçµæµç¨‹
- [ ] è¨ˆè²»å¼•æ“æ­£ç¢ºè¨ˆç®—æ‡‰æ”¶/æ‡‰ä»˜/è»Šè¶Ÿè²»/æ·¨é¡
- [ ] æœˆçµæ˜ç´°è‡ªå‹•ç”¢å‡ºï¼ˆ5 è™Ÿï¼Œé‡å‡æ—¥æå‰è‡³å‰ä¸€å·¥ä½œæ—¥ï¼‰
- [ ] å¯©æ ¸æµç¨‹æ­£å¸¸ï¼ˆè‰ç¨¿â†’å¯©æ ¸é€šé/é€€å›â†’é‡æ–°æäº¤ï¼‰
- [ ] å·²å¯©æ ¸æ˜ç´°è‡ªå‹•å¯„é€ Emailï¼ˆ15 è™Ÿï¼Œé‡å‡æ—¥æå‰ï¼‰
- [ ] æŒ‰è¶Ÿçµç®—å®¢æˆ¶å¯ç¨ç«‹ç”¢å‡ºå–®è¶Ÿæ˜ç´°

### å ±è¡¨
- [ ] å®¢æˆ¶æœˆçµæ˜ç´° PDF æ­£ç¢ºç”¢å‡º
- [ ] ç«™å€å½™ç¸½å ±è¡¨ Excel æ­£ç¢ºç”¢å‡º

### ç³»çµ±ç®¡ç†
- [ ] åœ‹å®šå‡æ—¥ç®¡ç†ï¼ˆæ–°å¢/åˆªé™¤/æ‰¹æ¬¡åŒ¯å…¥ï¼‰
- [ ] å‡æ—¥èª¿æ•´é‚è¼¯æ­£ç¢ºï¼ˆé€±å…­æ—¥ + åœ‹å®šå‡æ—¥å¾€å‰æ¨ï¼‰
- [ ] åˆç´„åˆ°æœŸæé†’ï¼ˆ30/15/7 å¤©ï¼‰
- [ ] é€šçŸ¥é‡è©¦ï¼ˆå¯„é€å¤±æ•—è‡ªå‹•é‡è©¦ï¼‰
- [ ] æ’ç¨‹å¯æŸ¥çœ‹ç‹€æ…‹å’Œæ‰‹å‹•è§¸ç™¼

---

## 10. MVP ä¸åšæ¸…å–®ï¼ˆæœªä¾†æ“´å……ï¼‰

| é …ç›® | é è¨ˆæ™‚æ©Ÿ |
|------|---------|
| æ¬Šé™åˆ†é›¢ï¼ˆç¸½éƒ¨/ç«™å€ï¼‰ | ç©©å®šé‹ä½œå¾Œ |
| LINE é€šçŸ¥ | ç”³è«‹ Bot å¾Œ |
| è»Šæ©Ÿç³»çµ±æ¥å…¥ | ç¢ºèª API è¦æ ¼å¾Œ |
| ERP æ¥å…¥ | ç¢ºèª API è¦æ ¼å¾Œ |
| å ±åƒ¹å¯©æ ¸æµç¨‹ | éœ€æ±‚æ˜ç¢ºå¾Œ |
| è»Šè¶Ÿæ’ç¨‹é æ’ | éœ€æ±‚æ˜ç¢ºå¾Œ |
| æ”¿åºœå‡æ—¥ API è‡ªå‹•æ›´æ–° | æ‰¾åˆ°ç©©å®šè³‡æ–™æºå¾Œ |
| æœˆçµå…¨è‡ªå‹•ï¼ˆè·³éå¯©æ ¸ï¼‰ | è¨ˆç®—æ­£ç¢ºæ€§ç¢ºèªå¾Œ |
